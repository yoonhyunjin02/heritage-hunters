/* ================= Map Page ================= */

:root {
  --panel-w: 22.5rem;                 /* 360px */
  --radius-lg: 16px;
  --radius-full: 999px;
  --shadow-md: 0 8px 24px rgba(0,0,0,.06);
  --border: 1px solid var(--gray-200);

  /* 사이트 공통 헤더 높이(필요시 조정) */
  --site-header-h: 64px;
}

/* ---------- 지도 전용 상단 툴바 ---------- */
.map-toolbar{
  position: sticky;
  top: var(--site-header-h);
  z-index: 10;
  background: var(--gray-000);
  border-bottom: 1px solid var(--gray-200);
}
.toolbar-inner{
  max-width: var(--section-max);
  margin: 0 auto;
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: .75rem 1rem;
}
.toolbar-title{
  font-size: 1.125rem;
  font-weight: 700;
  white-space: nowrap;
}
.toolbar-actions{
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: .75rem;
}

/* 검색 상자 (툴바 우측) */
.toolbar-search{
  position: relative;
  width: min(28rem, 50vw);
}
.toolbar-search input{
  width: 100%;
  height: 2.5rem;
  border-radius: var(--radius-full);
  border: var(--border);
  background: var(--gray-100);
  padding: 0 2.5rem 0 1rem;
  font-size: .9375rem;
  color: var(--gray-900);
  outline: none;
}
.toolbar-search input::placeholder{ color: var(--gray-600); }
.toolbar-search input:focus{ border-color: var(--purple-400); }
.toolbar-search .search-icon{
  position: absolute;
  right: .75rem;
  top: 50%;
  transform: translateY(-50%);
  opacity: .7;
}

/* 필터 버튼 & 드롭다운 패널 */
.filter-btn{
  display:flex; align-items:center; gap:.4rem;
  height:2.5rem; padding:0 .9rem;
  border: var(--border);
  border-radius: var(--radius-full);
  background: var(--gray-000);
  cursor: pointer;
}
.filter-btn .chev{ transition: transform .15s ease; }
.filter-btn[aria-expanded="true"] .chev{ transform: rotate(180deg); }

.filter-panel{
  position:absolute; right:0; top:calc(100% + .5rem);
  width:22rem; padding:.75rem;
  border: var(--border);
  border-radius: 12px;
  background: var(--gray-000);
  box-shadow: var(--shadow-md);
  z-index: 20;
}
.filter-section + .filter-section{ margin-top:.5rem; }
.filter-label{ font-size:.8125rem; color:var(--gray-700); margin-bottom:.375rem; }
.chip-row{ display:flex; flex-wrap:wrap; gap:.5rem; }
.type-chip{
  border: var(--border);
  border-radius: var(--radius-full);
  padding:.375rem .75rem;
  background: var(--gray-000);
  font-size:.875rem;
  color: var(--gray-800);
  cursor: pointer;
}
.type-chip[aria-pressed="true"]{
  background: var(--gray-100);
  color: var(--gray-900);
}

/* -------------- 본문 레이아웃 -------------- */
.map-root{
  max-width: var(--section-max);
  margin: .75rem auto 0;
  display: grid;
  grid-template-columns: var(--panel-w) 1fr;
  gap: 1rem;
  padding: 0 1rem 1rem;
  min-height: calc(100dvh - (var(--site-header-h) + 56px));
  background: var(--gray-050);
}

/* 좌측 목록 패널 */
.side-panel{
  background: var(--gray-000);
  border: var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  padding: 1rem;
  display: flex;
  flex-direction: column;
  min-height: 0; /* 내부 스크롤 확보 */
}

/* 결과 리스트 */
.list{
  margin-top: .25rem;
  border-top: var(--border);
  overflow: auto;
  padding-right: .25rem;
}
.card{
  display: block;
  width: 100%;
  text-align: left;
  border: 0;
  border-bottom: var(--border);
  background: transparent;
  padding: .875rem .25rem;
  cursor: pointer;
}
.card:hover{ background: var(--gray-050); }
.card .name{
  font-weight: 700;
  margin-bottom: .25rem;
  color: var(--gray-900);
}
.card .addr{
  font-size: .8125rem;
  color: var(--gray-700);
  margin-bottom: .375rem;
}
.card .desc{
  font-size: .8125rem;
  color: var(--gray-800);
  line-height: 1.45;
  white-space: pre-line;
}

/* 지도 영역 */
.map-area{ position: relative; }
#map{
  width: 100%;
  height: 100%;
  min-height: 24rem;
  border-radius: var(--radius-lg);
  border: var(--border);
  box-shadow: var(--shadow-md);
  background: var(--gray-100);
}

/* -------------- 반응형 -------------- */
@media (max-width: 900px){
  .toolbar-search{ width: min(20rem, 70vw); }
  .map-root{ grid-template-columns: 1fr; }
  .side-panel{ order: 2; }
  .map-area{ order: 1; }
  #map{ height: 60dvh; }
}

@media (max-width: var(--bp-mobile)){
  .toolbar-inner{ padding: .6rem .75rem; }
  .map-root{ padding: 0 .75rem .75rem; gap: .75rem; }
  .side-panel{ padding: .75rem; }
}
