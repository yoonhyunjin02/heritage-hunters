<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <th:block th:insert="~{fragments/head :: common-head('Map')}"></th:block>
  <link rel="stylesheet" th:href="@{/features/map/css/map.css}">
</head>
<body>
<!-- 사이트 공통 헤더 -->
<div th:replace="~{fragments/header :: common-header}"></div>

<!-- 지도 전용 헤더(툴바) -->
<div class="map-toolbar">
  <div class="toolbar-left">
    <!-- 햄버거 버튼 -->
    <button id="navToggle" class="hamburger-btn" aria-label="메뉴 열기" aria-expanded="false">
      <img src="/images/icons/hamburger.svg" alt="메뉴"/>
    </button>

    <!-- 세그먼트 토글 -->
    <div class="segmented" id="typeSegment">
      <button class="seg-btn" data-type="heritage" aria-pressed="true">문화재</button>
      <button class="seg-btn" data-type="all" aria-pressed="false">박물관·미술관</button>
    </div>
  </div>

  <div class="toolbar-right">
    <div class="toolbar-search">
      <input id="search" type="text" placeholder="이름, 지역 검색" autocomplete="off" />
      <span class="search-icon" aria-hidden="true">
      <img src="/images/icons/search.svg" alt="검색" width="20" height="20" />
    </span>
    </div>
  </div>
</div>

<!--main-->
<main class="map-root"
      th:attr="data-endpoint=@{/map},data-maps-key=${mapsApiKey}">

  <!-- 왼쪽 사이드 네비게이션 -->
  <nav id="sideNav" class="side-nav">
    <ul>
      <li><a href="#">홈</a></li>
      <li><a href="#">문화재</a></li>
      <li><a href="#">박물관</a></li>
      <li><a href="#">설정</a></li>
    </ul>
  </nav>

  <section class="map-area">
    <div id="map"></div>
  </section>
</main>

<!-- 공통 푸터 -->
<div th:replace="~{fragments/footer :: common-footer}"></div>

<!-- JS -->
<script defer th:src="@{/features/map/js/map.js}"></script>
<script defer th:src="@{/features/map/js/nav_toggle.js}"></script>
</body>
</html>